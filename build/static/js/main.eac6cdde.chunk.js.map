{"version":3,"sources":["components/Three/Three.js","components/Overlay/Overlay.js","components/TextFlow/TextFlow.js","components/BackDrop/BackDrop.js","App.js","index.js"],"names":["Three","width","window","innerWidth","height","innerHeight","scene","THREE","camera","renderer","alpha","setSize","this","mount","appendChild","domElement","wireframes","startPos","spread","movement","rotation","i","geometry","geo","mat","color","linewidth","wireframe","position","x","y","z","add","push","frustum","setFromProjectionMatrix","multiplyMatrices","projectionMatrix","matrixWorldInverse","easeFunction","rangeMax","rangeMultiplier","pow","floatX","Math","abs","squared","result","logKey","e","centerX","centerY","centerDistX","clientX","centerDistY","clientY","forEach","wf","test","navigator","userAgent","addEventListener","aspect","updateProjectionMatrix","animate","requestAnimationFrame","containsPoint","props","onAnimate","render","className","ref","Component","Overlay","children","style","fontSize","lineHeight","chunks","join","BackDrop","App","changeBackgroundColour","colour","setState","backgroundColour","getMaxNumLines","handleAnimate","object","oldState","newX","toFixed","newY","text1","unshift","length","state","maxNumLines","parseInt","text2","text3","pop","filter","numTextFlowGroups","bind","backgroundColor","Array","fill","src","alt","React","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.eac6cdde.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport * as THREE from \"three\";\nclass Three extends Component {\n  componentDidMount() {\n    var width = window.innerWidth;\n    var height = window.innerHeight;\n    var scene = new THREE.Scene();\n    var camera = new THREE.PerspectiveCamera(75, width / height, 0.1, 1000);\n    var renderer = new THREE.WebGLRenderer({ alpha: true });\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    this.mount.appendChild(renderer.domElement);\n\n    // DEFINE OBJECTS / PARAMETERS\n    let wireframes = [];\n    let numCubes = 100;\n    let startPos = { x: 0, y: 0, z: -200 };\n    let spread = { x: 0, y: 0, z: 4 };\n    let movement = { x: 0, y: 0, z: 0.12 };\n    let rotation = { x: -0.005, y: 0, z: 0.0 };\n    for (var i = 0; i < numCubes; i++) {\n      var geometry = new THREE.CubeGeometry(15, 10, 10);\n      var geo = new THREE.EdgesGeometry(geometry);\n      var mat = new THREE.LineBasicMaterial({\n        color: 0xff7ff8,\n        linewidth: 2,\n      });\n      var wireframe = new THREE.LineSegments(geo, mat);\n\n      wireframe.position.x = startPos.x + spread.x * i;\n      wireframe.position.y = startPos.y + spread.y * i;\n      wireframe.position.z = startPos.z + spread.z * i;\n\n      scene.add(wireframe);\n      wireframes.push(wireframe);\n    }\n\n    // --------\n\n    // UTIL/TRANSFORM STUFF\n    var frustum = new THREE.Frustum();\n    frustum.setFromProjectionMatrix(\n      new THREE.Matrix4().multiplyMatrices(\n        camera.projectionMatrix,\n        camera.matrixWorldInverse\n      )\n    );\n\n    const onMouseMove = (x, y) => {\n      wireframes.forEach((wf) => {\n        wf.position.y = easeFunction(y, height / 2, 0.5, 1.3);\n        wf.position.x = easeFunction(x, width / 2, 0.5, 1.3);\n      });\n    };\n\n    // pow changes the shape of the curve - higher pow = higher accelleration towards 0 and 1\n    // rangeMultiplier is applied at the end, so it just returns something between 0 and 1 * range multiplier\n    // rangeMax is used to convert x into a float between -1 and 1\n    const easeFunction = (x, rangeMax, rangeMultiplier = 1, pow = 2) => {\n      let floatX = Math.abs(x / rangeMax);\n      let squared = Math.pow(floatX, pow);\n      let result = squared / (squared + Math.pow(1 - floatX, pow));\n      return x > 0 ? rangeMultiplier * result : -(rangeMultiplier * result);\n    };\n    const logKey = (e) => {\n      let centerX = width / 2;\n      let centerY = height / 2;\n      let centerDistX = e.clientX - centerX;\n      let centerDistY = centerY - e.clientY;\n      onMouseMove(centerDistX, centerDistY);\n    };\n    if (\n      /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\n        navigator.userAgent\n      )\n    ) {\n      window.addEventListener(\"mousedown\", logKey);\n    } else {\n      window.addEventListener(\"mousemove\", logKey);\n    }\n\n    // ---------\n\n    camera.position.z = 0;\n\n    var animate = () => {\n      requestAnimationFrame(animate);\n\n      // DO STUFF\n      wireframes.forEach((wf) => {\n        wf.position.x += movement.x;\n        wf.position.y += movement.y;\n        wf.position.z += movement.z;\n        wf.rotation.x += rotation.x;\n        wf.rotation.y += rotation.y;\n        wf.rotation.z += rotation.z;\n        if (!frustum.containsPoint(wf.position)) {\n          // If they've moved out of the field of view, put them back to startpos\n          wf.position.x = startPos.x;\n          wf.position.y = startPos.y;\n          wf.position.z = startPos.z;\n        }\n      });\n      //-------\n\n      this.props.onAnimate(wireframes[0]);\n\n      renderer.render(scene, camera);\n    };\n\n    // keep the canvas responsive\n    window.addEventListener(\"resize\", () => {\n      width = window.innerWidth;\n      height = window.innerHeight;\n      renderer.setSize(width, height);\n      camera.aspect = width / height;\n      camera.updateProjectionMatrix();\n    });\n\n    animate();\n  }\n  render() {\n    return <div className=\"fatCanvas\" ref={(ref) => (this.mount = ref)} />;\n  }\n}\nexport default Three;\n","import React from \"react\";\n\nconst Overlay = (props) => {\n  return (\n    <div>\n      <div className=\"overLay\">{props.children}</div>\n    </div>\n  );\n};\n\nexport default Overlay;\n","import React from \"react\";\n\nimport \"./TextFlow.css\";\n\nconst Overlay = (props) => {\n  return (\n    <div className={`textFlow flexCol fullHeight ${props.className || \"\"}`}>\n      <p style={{ fontSize: props.lineHeight, lineHeight: props.lineHeight }}>\n        {props.chunks.join(\" \")}\n      </p>\n    </div>\n  );\n};\n\nexport default Overlay;\n","import React from \"react\";\n\nimport \"./BackDrop.css\";\n\nconst BackDrop = (props) => {\n  const { style } = props;\n  return (\n    <div className=\"backDrop\" style={style}>\n      {props.children}\n    </div>\n  );\n};\n\nexport default BackDrop;\n","import React from \"react\";\n\nimport Three from \"./components/Three/Three\";\nimport OverLay from \"./components/Overlay/Overlay\";\nimport TextFlow from \"./components/TextFlow/TextFlow\";\nimport BackDrop from \"./components/BackDrop/BackDrop\";\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    const lineHeight = 12;\n    const numTextFlowGroups = 3;\n    this.state = {\n      text1: [],\n      text2: [],\n      text3: [],\n      backgroundColour: \"rgb(0,0,0)\",\n      maxNumLines: this.getMaxNumLines(lineHeight),\n      lineHeight,\n      numTextFlowGroups,\n    };\n\n    this.changeBackgroundColour = this.changeBackgroundColour.bind(this);\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"resize\", () => {\n      this.setState({\n        maxNumLines: this.getMaxNumLines(this.state.lineHeight),\n      });\n    });\n  }\n\n  changeBackgroundColour = (colour) =>\n    this.setState({ backgroundColour: colour });\n\n  getMaxNumLines = (lineHeight) => {\n    return window.innerHeight / lineHeight;\n  };\n\n  handleAnimate = (object) => {\n    this.setState((oldState) => {\n      let newX = `x:_${object.position.x.toFixed(3)}`;\n      let newY = `y:_${object.position.y.toFixed(3)}`;\n      oldState.text1.unshift(\n        oldState.text1.length >= this.state.maxNumLines - 2 &&\n          oldState.text1[parseInt(this.state.maxNumLines * 0.75)] === newX\n          ? \"idle\"\n          : newX\n      );\n      oldState.text2.unshift(\n        oldState.text2.length >= this.state.maxNumLines - 2 &&\n          oldState.text2[parseInt(this.state.maxNumLines * 0.75)] === newY\n          ? \"idle\"\n          : newY\n      );\n\n      oldState.text3.unshift(`z:_${object.position.z.toFixed(3)}`);\n\n      if (oldState.text1.length > this.state.maxNumLines + 1) {\n        oldState.text1.pop();\n        oldState.text2.pop();\n        oldState.text3.pop();\n      }\n      return oldState;\n    });\n    if (this.state.text1.filter((i) => i === \"idle\").length === 0) {\n      this.changeBackgroundColour(\"rgb(255,255,255)\");\n    } else {\n      this.changeBackgroundColour(\"rgb(0,0,0)\");\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        <Three onAnimate={this.handleAnimate} />\n\n        <BackDrop style={{ backgroundColor: this.state.backgroundColour }}>\n          <div className=\"flexRow fullWidth spaceBetween\">\n            {Array(this.state.numTextFlowGroups).fill([\n              <TextFlow\n                chunks={this.state.text1}\n                lineHeight={`${this.state.lineHeight}px`}\n              />,\n              <TextFlow\n                chunks={this.state.text2}\n                lineHeight={`${this.state.lineHeight}px`}\n              />,\n              <TextFlow\n                chunks={this.state.text3}\n                lineHeight={`${this.state.lineHeight}px`}\n              />,\n            ])}\n          </div>\n        </BackDrop>\n        <OverLay>\n          <div className=\"flexRow fullWidth justifyCenter\">\n            <img src=\"/images/computer-love.gif\" alt=\"fucc\" />\n          </div>\n        </OverLay>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}